import com.tangosol.net.NamedCache;
import com.tangosol.util.ValueExtractor;
import com.tangosol.util.extractor.Extractors;

public final class CacheIndexConfigurator {

    private final boolean ordered;

    private static final ValueExtractor<MyServiceData, String> EXTRACT_ISIN =
            Extractors.chained("getBase.isin");

    private static final ValueExtractor<MyServiceData, String> EXTRACT_RIC =
            Extractors.chained("getBase.ric");

    public CacheIndexConfigurator(boolean ordered) {
        this.ordered = ordered;
    }

    public void configure(NamedCache<String, MyServiceData> cache) {
        cache.addIndex(EXTRACT_ISIN, ordered, null);
        cache.addIndex(EXTRACT_RIC, ordered, null);
    }
}


import com.tangosol.application.LifecycleEvent;
import com.tangosol.application.LifecycleListener;
import com.tangosol.net.CacheFactory;
import com.tangosol.net.NamedCache;

public class ServerStartupListener implements LifecycleListener {

    @Override
    public void preStart(LifecycleEvent event) {
        // Only run on storage-enabled members
        if (!CacheFactory.getCluster().getLocalMember().isStorageEnabled()) {
            return;
        }

        NamedCache<String, MyServiceData> cache =
                CacheFactory.getCache("toto");

        new CacheIndexConfigurator(false).configure(cache);

        System.out.println("Indexes created on storage member.");
    }

    @Override public void postStart(LifecycleEvent event) {}
    @Override public void preStop(LifecycleEvent event) {}
    @Override public void postStop(LifecycleEvent event) {}
}

<lifecycle-config>
  <listeners>
    <listener>
      <class-name>com.yourpackage.ServerStartupListener</class-name>
    </listener>
  </listeners>
</lifecycle-config>
